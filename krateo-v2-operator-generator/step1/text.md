# Install Krateo
To install Krateo, we will follow the [official Krateo Documentation](https://docs.krateo.io/how-to-guides/install-krateo/installing-krateo-kind).

```bash
helm repo add krateo https://charts.krateo.io
helm repo update krateo

helm upgrade installer-crd installer-crd \
  --repo https://charts.krateo.io \
  --namespace krateo-system \
  --create-namespace \
  --install \
  --version 2.7.0 \
  --wait

# Disable Krateo FinOps and Portal due to low Killercoda compute resources
# Adjust OASGEN_PROVIDER_POLL_INTERVAL and REST_CONTROLLER_RESYNC_INTERVAL for faster readiness
# Adjust etcd resources and persistence for low resource environment
helm upgrade installer installer \
  --set krateoplatformops.composablefinops.enabled=false \
  --set krateoplatformops.composableportal.enabled=false \
  --set krateoplatformops.oasgenprovider.env.OASGEN_PROVIDER_POLL_INTERVAL=30s \
  --set krateoplatformops.oasgenprovider.rdc.env.REST_CONTROLLER_RESYNC_INTERVAL=30s \
  --set krateoplatformops.eventsse.etcd.resources.requests.cpu="250m" \
  --set krateoplatformops.eventsse.etcd.resources.requests.memory="512Mi" \
  --set krateoplatformops.eventsse.etcd.resources.limits.memory="1Gi" \
  --set krateoplatformops.eventsse.etcd.persistence.size="6Gi" \
  --set krateoplatformops.eventsse.etcd.quotaBackendBytes="3221225472" \
  --repo https://charts.krateo.io \
  --namespace krateo-system \
  --create-namespace \
  --install \
  --version 2.7.0 \
  --wait
```{{exec}}

Wait for Krateo to be ready:
```bash
kubectl wait krateoplatformops krateo --for condition=Ready=True --namespace krateo-system --timeout=800s
```{{exec}}
This step might take upwards of 10 minutes, go grab a coffee in the meantime or learn more about Krateo Operator Generator!

# Learn about Krateo Operator Generator

The Krateo Operator Generator is a powerful tool designed to simplify the process of creating Kubernetes operators. It automates the generation of Custom Resource Definitions (CRDs) and controllers, enabling developers to focus on building and deploying their applications without getting bogged down in the complexities of Kubernetes resource management.
Its main component is the `oasgen-provider`, which is a Kubernetes controller that generates CRDs and controllers based on OpenAPI Specification (OAS) 3.1 definitions. This allows users to define custom resources that match the schema described in their API specifications, enabling seamless integration and management within Kubernetes environments.

## oasgen-provider
A k8s controller that generates CRDs and controller to manage resources from OpenAPI Specification (OAS) 3.1 (also 3.0 is supported).

## Core Features
- **CRD Generation**: Automatically generates CRDs from OAS 3.1 definitions. This allows users to define custom resources that match the schema described in their API specifications, enabling seamless integration and management within Kubernetes environments.
- **Controller Generation**: Beyond CRDs, oasgen-provider also automates the creation of controllers. Controllers are essential components in Kubernetes that watch for changes in resource states and act accordingly to maintain desired states. By generating controllers from OAS definitions, oasgen-provider facilitates the management of custom resources according to the logic defined in the API specifications.
- **Custom Resource Management**: With the generated CRDs and controllers, users can manage custom resources directly within Kubernetes. This includes creating, updating, deleting, and monitoring the state of these resources, all aligned with the definitions provided in the OAS 3.1 specification.

## Benefits
- **Streamlined Development:** Reduces manual coding efforts, streamlining the development process for Kubernetes-native applications.
- **Enhanced Flexibility:** Enables easy adaptation of Kubernetes resources to match evolving API specifications.
- **Improved Integration:** Facilitates better integration between Kubernetes and external services or applications.


## rest-dynamic-controller
The rest-dynamic-controller is a dynamic controller that manages Remote Resources through REST APIs. It's considered "dynamic" because it can manage any type of remote resource represented by a Custom Resource Definition and its related Custom Resource. The controller is configured at startup through environment variables (or CLI parameters) to manage a specific Group Version Resource.

## How it works

When a Custom Resource (CR) is created and its Custom Resource Definition (CRD) has been generated by a `RestDefinition` from the `oasgen-provider`, the following process occurs:

1. The `rest-dynamic-controller` instance checks if the remote resource exists by following the instructions defined in the [`RestDefinition`](https://doc.crds.dev/github.com/krateoplatformops/oasgen-provider).
2. If the resource doesn't exist, the controller performs the action described in the `verbsDescription` field of the `RestDefinition` CR.
3. For deletion requests, a similar process is followed.
4. During resource observation, the controller verifies if the remote resource is synchronized with the CR and performs updates if necessary.

If you're interested in learning more about the `oasgen-provider` and `rest-dynamic-controller`, you can find additional information in the [official documentation](https://docs.krateo.io/key-concepts/kog/oasgen-provider).