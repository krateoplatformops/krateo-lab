# Exploring Core Provider Generated RBAC Resources

When a `CompositionDefinition` is instantiated, the `core-provider` automatically generates several RBAC (Role-Based Access Control) resources. Let's explore these resources in detail.

## Service Account

First, let's examine the Service Account created for the controller:

```bash
# View the Service Account details
kubectl get serviceaccount fireworksapps-v1-1-5-controller -n fireworksapp-system -o yaml
```{{exec}}

This Service Account is used by the controller pod to interact with the Kubernetes API.

## Role-Based Access Control Resources

### 1. Roles
Roles define permissions within a specific namespace:

```bash
# View detailed role configuration
kubectl get role fireworksapps-v1-1-5-controller -n fireworksapp-system -o yaml
```{{exec}}

### 2. RoleBindings
RoleBindings link the Roles to our Service Account within the namespace:

```bash
# View detailed role binding configuration
kubectl get rolebinding fireworksapps-v1-1-5-controller -n fireworksapp-system -o yaml
```{{exec}}

### 3. ClusterRoles
ClusterRoles define permissions that apply across the entire cluster:

```bash
# View detailed cluster role configuration
kubectl get clusterrole fireworksapps-v1-1-5-controller -o yaml
```{{exec}}

### 4. ClusterRoleBindings
ClusterRoleBindings link the ClusterRoles to our Service Account:

```bash
# View detailed cluster role binding configuration
kubectl get clusterrolebinding fireworksapps-v1-1-5-controller -o yaml
```{{exec}}

## Understanding the Generated Configuration

The RBAC configuration generated by `core-provider` ensures that:
1. The controller has minimal required permissions (Principle of Least Privilege)
2. Permissions are properly scoped (namespace vs cluster-wide)
3. The service account has the necessary access to manage Fireworksapp resources
4. Additional permissions required by the Helm chart's resources are properly configured

This setup allows the controller to:
- Watch and manage Fireworksapp custom resources
- Deploy and manage resources defined in the Helm chart
- Update status and handle lifecycle operations of the resources